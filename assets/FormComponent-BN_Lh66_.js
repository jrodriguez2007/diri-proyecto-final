import{F as a,u as D,r as E,a as G,b as O,c as Q,d as S,j as e,I as j,R as b,C as l,S as o,e as U,f as T,B as I,M as L}from"./index-Bpo3CkEk.js";import{u as z,S as H}from"./useItemMessage-DaNLSMlK.js";import{M as N}from"./index-BhXTn5IV.js";const{TextArea:K}=j,{Option:n}=o,V=({visible:c,title:y,initialValues:u,onSubmit:C,onCancel:f})=>{const[d]=a.useForm(),{t:s}=D(),t=z(),i=a.useWatch("idMarca",d);E.useEffect(()=>{c&&(u?d.setFieldsValue(u):d.resetFields())},[u,c,d]);const g=()=>{d.validateFields().then(r=>{C(r)})},{data:q,isLoading:M}=G({page:0,limit:50}),m=q,B=i==null,{data:F,error:P,isLoading:k}=O(i??0,{skip:B}),p=F,{data:v,isLoading:w}=Q({page:0,limit:50}),h=v,{data:R,isLoading:A}=S({page:0,limit:50}),x=R;return e.jsx(N,{title:y,open:c,destroyOnClose:!0,onOk:g,onCancel:f,footer:[e.jsx(I,{onClick:f,children:e.jsx(L,{id:"buttons.cancel"})},"cancel"),e.jsx(I,{type:"primary",onClick:g,children:e.jsx(L,{id:"buttons.save"})},"ok")],children:e.jsxs(a,{form:d,layout:"vertical",children:[e.jsx(a.Item,{label:s("app.products.form.code"),name:"codigo",rules:[{required:!0,message:t("app.products.item.code",!0)}],children:e.jsx(j,{placeholder:t("app.products.item.code")})}),e.jsx(a.Item,{label:s("app.products.form.description"),name:"descripcion",rules:[{required:!0,message:t("app.products.item.description",!0)}],children:e.jsx(j,{placeholder:t("app.products.item.description")})}),e.jsxs(b,{gutter:16,children:[e.jsx(l,{span:12,children:e.jsx(a.Item,{label:s("app.products.header.brand"),name:"idMarca",rules:[{required:!0,message:s("modules.form.required.select",{item:s("app.products.item.brand")})}],children:e.jsx(o,{placeholder:s("modules.form.required.select",{item:s("app.products.item.brand").toLocaleLowerCase()}),loading:M,onChange:r=>{d.setFieldsValue({idMarca:r,idModelo:void 0})},value:i,children:m==null?void 0:m.map(r=>e.jsx(n,{value:r.id,children:r.nombre},r.id))})})}),e.jsx(l,{span:12,children:e.jsx(a.Item,{label:s("app.products.form.model"),name:"idModelo",rules:[{required:!0,message:s("modules.form.required.select",{item:s("app.products.item.model")})}],children:e.jsx(o,{placeholder:s("modules.form.required.select",{item:s("app.products.item.model").toLocaleLowerCase()}),loading:k,disabled:!i,children:p==null?void 0:p.map(r=>e.jsx(n,{value:r.id,children:r.nombre},r.id))})})})]}),e.jsxs(b,{gutter:16,children:[e.jsx(l,{span:12,children:e.jsx(a.Item,{label:s("app.products.header.family"),name:"idFamilia",rules:[{required:!0,message:s("modules.form.required.select",{item:s("app.products.item.family")})}],children:e.jsx(o,{placeholder:s("modules.form.required.select",{item:s("app.products.item.family").toLocaleLowerCase()}),loading:w,children:h==null?void 0:h.map(r=>e.jsx(n,{value:r.id,children:r.nombre},r.id))})})}),e.jsx(l,{span:12,children:e.jsx(a.Item,{label:s("app.products.header.unit"),name:"idUnidad",rules:[{required:!0,message:s("modules.form.required.select",{item:s("app.products.item.unit")})}],children:e.jsx(o,{placeholder:s("modules.form.required.select",{item:s("app.products.item.unit").toLocaleLowerCase()}),loading:A,children:x==null?void 0:x.map(r=>e.jsx(n,{value:r.id,children:r.nombre},r.id))})})})]}),e.jsx(a.Item,{label:s("app.products.form.active"),name:"activo",valuePropName:"checked",children:e.jsx(H,{defaultChecked:!0,checkedChildren:e.jsx(T,{}),unCheckedChildren:e.jsx(U,{})})})]})})};export{V as FormComponent,V as default};
